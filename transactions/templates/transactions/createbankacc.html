{% extends "store/base.html" %}
{% load static %}
{% load querystring from django_tables2 %}

{% block title %}Add Bank{% endblock title %}

{% block content %}
<style>
/* ðŸŒ™ DARK MODERN THEME */
body {
    background-color: #0d1117;
    color: #e6edf3;
}

.card-dark {
    background-color: #161b22;
    border: 1px solid #30363d;
    color: #e6edf3;
    border-radius: 1rem;
    transition: all 0.3s ease;
}
.card-dark:hover {
    border-color: #58a6ff;
    box-shadow: 0 0 10px rgba(88, 166, 255, 0.2);
}

.form-label {
    font-weight: 500;
    color: #9ab6d6;
}

.form-control {
    background-color: #0d1117;
    color: #e6edf3;
    border: 1px solid #30363d;
    border-radius: 8px;
}
.form-control:focus {
    border-color: #58a6ff;
    box-shadow: 0 0 5px rgba(88, 166, 255, 0.3);
    background-color: #0d1117;
    color: #fff;
}

/* ðŸ’¡ Buttons */
.btn-modern {
    border-radius: 50px;
    transition: all 0.3s ease;
    font-weight: 500;
}
.btn-modern:hover {
    transform: translateY(-2px);
    box-shadow: 0 0 10px rgba(88, 166, 255, 0.4);
}

/* âœ¨ Section Titles */
.section-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: #00b3ff;
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.section-title i {
    color: #00ff9d;
}

label.form-label {
        color: #bdbdbd;
        font-weight: 500;
        text-transform: uppercase;
        font-size: 0.9rem;
        margin-bottom: 6px;
    }

input.form-control::placeholder,
    textarea.form-control::placeholder {
        color: #999;
    }

/* ðŸ“± Responsive */
@media (max-width: 767.98px) {
    .card-dark {
        padding: 1rem !important;
    }
}
</style>

<div class="container py-5">

    <div class="row g-4">
        <!-- âœ… Manual Product Add Form -->
        <div class="col-12">
            <div class="card-dark p-4 shadow-sm">
                {% if request.user.profile.role != 'OP' %}
                <div class="section-title">
                    <i class="fa-solid fa-pen-to-square"></i> Manual Product Entry
                </div>

                <form method="POST" enctype="multipart/form-data" action="{% url 'bank-create' %}">
                    {% csrf_token %}
                    <div class="row g-3">
                        <div class="col-md-4">
                            <label for="{{ form.account_name.id_for_label }}" class="form-label">Account Display Name</label>
                            {{ form.account_name }}
                            <div class="text-danger small">{{ form.account_name.errors }}</div>
                        </div>

                        <div class="col-md-4">
                            <label for="{{ form.opening_balance.id_for_label }}" class="form-label">Opening Balance</label>
                            {{ form.opening_balance }}
                            <div class="text-danger small">{{ form.opening_balance.errors }}</div>
                        </div>

                        <div class="col-md-4">
                            <label for="{{ form.as_of_date.id_for_label }}" class="form-label">As of Date</label>
                            {{ form.as_of_date }}
                            <div class="text-danger small">{{ form.as_of_date.errors }}</div>
                        </div>
                    </div>

                    <div class="text-center mt-4">
                        <button class="btn btn-success btn-lg btn-modern shadow-sm" type="submit">
                            <i class="fas fa-check"></i> Submit
                        </button>
                    </div>
                </form>
                {% else %}
                <div class="alert alert-danger text-center mt-3 fw-bold">
                    ðŸš« Sorry, you donâ€™t have permission to add products.
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock content %}
