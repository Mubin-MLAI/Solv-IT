{% extends 'store/base.html' %}

{% block content %}
<div class="container my-4">

    <!-- Header Section -->
    <div class="card glass-header shadow-lg rounded-4 p-4 mb-4">
        <div class="row align-items-center g-3">
            <div class="col-12 col-md-6">
                <h4 class="fw-bold text-gradient text-center text-md-start">üë• Customers</h4>
            </div>
            <div class="col-12 col-md-6 text-center text-md-end">
                <a class="btn btn-neon btn-sm rounded-pill shadow-sm" href="{% url 'customer_create' %}">
                    <i class="fa-solid fa-plus"></i> Add New Customer
                </a>
            </div>
        </div>
    </div>

    <!-- Table Section -->
<div class="container-fluid px-4 mb-5">
  <div class="card glass-table shadow-lg rounded-4 border-0">
    <div class="table-responsive">
      <table class="table-hover align-middle mb-0 w-100">
        <thead class="table-bordered">
          <tr>
            <th>#</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Address</th>
            <th>Email</th>
            <th>Phone</th>
            <th>GSTIN</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for customer in customers %}
          <tr>
            <td data-label="#"> {{ forloop.counter }} </td>
            <td data-label="First Name">{{ customer.first_name }}</td>
            <td data-label="Last Name">{{ customer.last_name }}</td>
            <td data-label="Address">{{ customer.address }}</td>
            <td data-label="Email">{{ customer.email }}</td>
            <td data-label="Phone">{{ customer.phone }}</td>
            <td data-label="Gstin">{{ customer.gstin }}</td>
            <td data-label="Actions">
              <div class="d-flex flex-column flex-sm-row justify-content-center gap-2">
                <a href="{% url 'customer_update' customer.pk %}" class="btn btn-outline-light btn-sm w-100 w-sm-auto">
                  <i class="fas fa-edit"></i> Edit
                </a>
                <a href="{% url 'customer_delete' customer.pk %}" class="btn btn-outline-danger btn-sm w-100 w-sm-auto">
                  <i class="fas fa-trash-alt"></i> Delete
                </a>
              </div>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="8" class="text-center text-muted py-3">No customers found</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

</div>

<style>
/* üåô Dark Background */
body {
    background: radial-gradient(circle at top left, #0d1117, #050608);
    color: #e6edf3;
}

/* üßä Glass Table Full Width */
.glass-table {
  background: rgba(20, 20, 20, 0.7);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 16px;
  color: #e6edf3;
  width: 100%;
}

/* üìè Ensure Table Aligns to Page */
.container-fluid {
  max-width: 100%;
}

.table {
  width: 100%;
  margin-bottom: 0;
  color: #e6edf3;
  border-color: rgba(255, 255, 255, 0.05);
}

.table thead {
  background: rgba(255, 255, 255, 0.05);
  color: #0dcaf0;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  font-size: 0.85rem;
}

.table tbody tr:hover {
  background: rgba(255, 255, 255, 0.05);
}

/* üíª Responsive Adjustments */
@media (max-width: 768px) {
  .table thead {
    display: none;
  }
  .table, .table tbody, .table tr, .table td {
    display: block;
    width: 100%;
  }
  .table tr {
    margin-bottom: 1rem;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    padding: 0.8rem;
  }
  .table td {
    text-align: left;
    padding: 0.4rem 0.8rem;
  }
  .table td::before {
    content: attr(data-label);
    font-weight: 600;
    display: block;
    margin-bottom: 0.25rem;
    color: #0dcaf0;
  }
}


/* üßä Glass Header */
.glass-header {
    background: rgba(30, 30, 30, 0.6);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.05);
}

/* üìä Glass Table Card */
.glass-table {
    background: rgba(20, 20, 20, 0.7);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.06);
}

/* ‚ú® Neon Button */
.btn-neon {
    background: linear-gradient(90deg, #0dcaf0, #20c997);
    border: none;
    color: #fff;
    transition: all 0.3s ease;
}

.btn-neon:hover {
    background: linear-gradient(90deg, #20c997, #0dcaf0);
    box-shadow: 0 0 15px rgba(13, 202, 240, 0.6);
    transform: translateY(-2px);
}

/* üßæ Table Styles */
.table {
    color: #e6edf3;
    border-color: rgba(255, 255, 255, 0.05);
    font-size: 0.95rem;
}

.table thead {
    background: rgba(255, 255, 255, 0.05);
    color: #00bcd4;
    text-transform: uppercase;
    font-size: 0.85rem;
    letter-spacing: 0.5px;
}

.table tbody tr {
    transition: all 0.3s ease;
}

.table tbody tr:hover {
    background: rgba(255, 255, 255, 0.05);
}

/* üß© Buttons */
.btn-outline-light {
    color: #0dcaf0;
    border-color: #0dcaf0;
}

.btn-outline-light:hover {
    background: #0dcaf0;
    color: #000;
    box-shadow: 0 0 10px rgba(13, 202, 240, 0.4);
}

.btn-outline-danger {
    color: #ff4d4d;
    border-color: #ff4d4d;
}

.btn-outline-danger:hover {
    background: #ff4d4d;
    color: #fff;
    box-shadow: 0 0 10px rgba(255, 77, 77, 0.4);
}

/* ü™ü Mobile Responsive Table */
@media (max-width: 768px) {
    .table thead {
        display: none;
    }
    .table, .table tbody, .table tr, .table td {
        display: block;
        width: 100%;
    }
    .table tr {
        margin-bottom: 1rem;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 12px;
        padding: 0.8rem;
    }
    .table td {
        text-align: left;
        padding: 0.4rem 0.8rem;
        position: relative;
    }
    .table td::before {
        content: attr(data-label);
        font-weight: 600;
        display: block;
        margin-bottom: 0.25rem;
        color: #0dcaf0;
    }
}

/* üí´ Gradient Text */
.text-gradient {
    background: linear-gradient(90deg, #0dcaf0, #20c997, #ffc107);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}
</style>
{% endblock %}
